(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(t,e,n){"use strict";n.r(e);var i,a,r,o,s,c,l,u,m,f,h,d,p,b=n(1),v=n.n(b),O=n(7),g=n.n(O),E=(n(82),n(26)),N=n(27),A=n(29),j=n(28),C=n(30),I=n(33),R=n.n(I),w=n(71),x=n.n(w),V=(n(85),n(87),n(72)),T=n.n(V),_=n(76),M=n(41),y=n.n(M),S=n(3),P="ORIGINAL",L="VARIATION_1",D="VARIATION_2",G={ORIGINAL:P,VARIATION_1:L,VARIATION_2:D},k={MANUAL:"MANUAL",MIN_REGRET:"MIN_REGRET",MIN_TIME:"MIN_TIME"},Y=(i={},Object(S.a)(i,"MANUAL","Classic A/B"),Object(S.a)(i,"MIN_REGRET","Min Regret (Accelerated Impact)"),Object(S.a)(i,"MIN_TIME","Min Time (Accelerated Learning)"),i),U=(a={},Object(S.a)(a,P,0),Object(S.a)(a,L,0),Object(S.a)(a,D,0),a),B=(r={},Object(S.a)(r,P,1),Object(S.a)(r,L,0),Object(S.a)(r,D,0),r),W=(o={},Object(S.a)(o,P,1),Object(S.a)(o,L,0),Object(S.a)(o,D,1),o),z=(s={},Object(S.a)(s,P,1),Object(S.a)(s,L,1),Object(S.a)(s,D,0),s),q=(c={},Object(S.a)(c,P,1),Object(S.a)(c,L,1),Object(S.a)(c,D,1),c),H=(l={},Object(S.a)(l,P,0),Object(S.a)(l,L,1),Object(S.a)(l,D,0),l),J=(u={},Object(S.a)(u,P,0),Object(S.a)(u,L,1),Object(S.a)(u,D,1),u),F=(m={},Object(S.a)(m,P,0),Object(S.a)(m,L,0),Object(S.a)(m,D,1),m),$=(f={},Object(S.a)(f,"MANUAL",P),Object(S.a)(f,"MIN_REGRET",P),Object(S.a)(f,"MIN_TIME",P),f),K=(h={},Object(S.a)(h,"MANUAL",L),Object(S.a)(h,"MIN_REGRET",L),Object(S.a)(h,"MIN_TIME",L),h),Q=(d={},Object(S.a)(d,"MANUAL",D),Object(S.a)(d,"MIN_REGRET",D),Object(S.a)(d,"MIN_TIME",D),d),X={ALLOCATION_TYPES:k,CHART_LABELS:Y,MANUAL:"MANUAL",MIN_REGRET:"MIN_REGRET",MIN_TIME:"MIN_TIME",NO_NO_NO:U,NO_NO_YES:F,NO_YES_NO:H,NO_YES_YES:J,ORIGINAL:P,ORIG_ORIG_ORIG:$,STATIC_ALLOCATION:(p={},Object(S.a)(p,P,.345),Object(S.a)(p,L,.33),Object(S.a)(p,D,.325),p),VAR1_VAR1_VAR1:K,VAR2_VAR2_VAR2:Q,VARIATION_1:L,VARIATION_2:D,VARIATIONS:G,YES_NO_NO:B,YES_NO_YES:W,YES_YES_NO:z,YES_YES_YES:q},Z=function(t){return t.map(function(t){return parseInt(1e4*t)/100})},tt={getConfidenceNumbers:function(t){var e=t[0].trafficAllocation.length-1,n=[{pValues:Array(e).fill(1),confidenceIntervals:Array(e).fill([-1/0,1/0])}];return t.forEach(function(t){n.push({pValues:Object.values(t.stats).map(function(t){return t.pValue}),confidenceIntervals:Object.values(t.stats).map(function(t){return t.confInterval})})}),n},getCounts:function(t){var e=t[0].trafficAllocation.length,n=[{conversions:Array(e).fill(0),visitors:Array(e).fill(0)}];return t.forEach(function(t){var e=R.a.cloneDeep(n[n.length-1]);e.visitors[t.variation]=e.visitors[t.variation]+1,t.convert&&(e.conversions[t.variation]=e.conversions[t.variation]+1),n.push(e)}),n},getDistributions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Array(t[0].trafficAllocation.length).fill([]),i=Z(R.a.cloneDeep(t[0].trafficAllocation)),a=[];return n.forEach(function(t,e){a[e]=[i[e]]}),t.forEach(function(t,i){var r=Z(t.trafficAllocation);n.forEach(function(t,n){i%e||a[n].push(r[n])})}),a}},et=(n(145),function(t){function e(){var t,n;Object(E.a)(this,e);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(A.a)(this,(t=Object(j.a)(e)).call.apply(t,[this].concat(a)))).getDistributionData=function(){var t=n.props,e=t.distributions,i=t.position,a=t.sampleRate,r=t.variations,o=[];return Array(r).fill(1).forEach(function(t,n){o.push({name:n?"Variation ".concat(n):"Original",data:e[n].slice(0,parseInt(i/a)),animation:{duration:0}})}),R.a.cloneDeep(o)},n}return Object(C.a)(e,t),Object(N.a)(e,[{key:"render",value:function(){var t=this.props.policy,e=v.a.createRef(),n={credits:{enabled:!1},plotOptions:{line:{marker:{enabled:!1}}},series:this.getDistributionData(),title:{text:X.CHART_LABELS[t]},yAxis:{title:{text:"Distribution"}}};return v.a.createElement("div",{className:"flex--1"},v.a.createElement(T.a,{config:n,ref:e}))}}]),e}(b.Component)),nt=function(t){function e(){return Object(E.a)(this,e),Object(A.a)(this,Object(j.a)(e).apply(this,arguments))}return Object(C.a)(e,t),Object(N.a)(e,[{key:"render",value:function(){var t=this.props,e=t.conversionCount,n=t.title,i=t.visitorCount;return v.a.createElement("div",{className:"flex flex--column flex-align--center soft--sides width--33"},v.a.createElement("h5",null,n),v.a.createElement("p",{className:"micro muted"},"Conversions"),v.a.createElement("h2",null,e),v.a.createElement("p",{className:"micro muted"},"Visitors"),v.a.createElement("h2",null,i))}}]),e}(b.Component),it=function(t){function e(){var t,n;Object(E.a)(this,e);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(A.a)(this,(t=Object(j.a)(e)).call.apply(t,[this].concat(a)))).formatPValue=function(){return(100*(1-n.props.pValue)).toFixed(2)},n}return Object(C.a)(e,t),Object(N.a)(e,[{key:"render",value:function(){var t=this.props,e=(t.confidenceInterval,t.pValue),n=t.title;return v.a.createElement("div",{className:"flex flex--column flex-align--center soft--sides width--50"},v.a.createElement("h5",null,n),v.a.createElement("h2",{className:x()({green:e<=.1})},this.formatPValue()))}}]),e}(b.Component),at=function(t){function e(){var t,n;Object(E.a)(this,e);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(A.a)(this,(t=Object(j.a)(e)).call.apply(t,[this].concat(a)))).getVisitorCount=function(t){var e=n.props;return e.counts[e.position].visitors[t]},n.getConversionCount=function(t){var e=n.props;return e.counts[e.position].conversions[t]},n.getPValue=function(t){var e=n.props;return e.confidences[e.position].pValues[t]},n.renderVariationCards=function(){var t=n.props.variations,e=0,i=0;return Array(t+1).fill(1).map(function(a,r){return r<t&&(e+=n.getConversionCount(r),i+=n.getVisitorCount(r)),r?r===t?v.a.createElement(nt,{conversionCount:e,title:"Total",visitorCount:i}):v.a.createElement(nt,{conversionCount:n.getConversionCount(r),title:"Variation ".concat(r),visitorCount:n.getVisitorCount(r)}):v.a.createElement(nt,{conversionCount:n.getConversionCount(0),title:"Original",visitorCount:n.getVisitorCount(0)})})},n.renderStatSigCards=function(){var t=n.props.variations;return Array(t-1).fill(1).map(function(t,e){return v.a.createElement(it,{pValue:n.getPValue(e),title:"Variation ".concat(e+1)})})},n}return Object(C.a)(e,t),Object(N.a)(e,[{key:"render",value:function(){var t=this.props.variations;return v.a.createElement("div",{className:"border--left flex flex-align--center flex--column",style:{minWidth:"".concat(125*t,"px")}},v.a.createElement("div",{className:"flex flex--row flex--space width--100"},this.renderVariationCards()),v.a.createElement("h3",{className:"flex"},"Statistical Significance:"),v.a.createElement("div",{className:"flex flex--row flex--space width--100"},this.renderStatSigCards()))}}]),e}(b.Component),rt=function(t){function e(t){var n;return Object(E.a)(this,e),(n=Object(A.a)(this,Object(j.a)(e).call(this,t))).state={currentPosition:0,interval:null,multiplier:100},n.setCurrentPosition=function(t){n.setState(function(){return{currentPosition:t}})},n.startCounting=function(){n.state.currentPosition>=n.maxVisitors-1?n.setState(function(){return{currentPosition:0}},n.startInterval):n.startInterval()},n.startInterval=function(){n.setState(function(){return{interval:setInterval(function(){n.state.currentPosition>=n.maxVisitors-1?n.stopCounting():n.setState(function(t){return{currentPosition:t.currentPosition+t.multiplier>=n.maxVisitors?n.maxVisitors-1:t.currentPosition+t.multiplier}})},10)}})},n.stopCounting=function(){clearInterval(n.state.interval),n.setState(function(){return{interval:null}})},n.sampleRate=window.uniform.length/500,n.minRegretDistributions=tt.getDistributions(window.minRegret,n.sampleRate),n.minTimeDistributions=tt.getDistributions(window.minTime,n.sampleRate),n.uniformDistributions=tt.getDistributions(window.uniform,n.sampleRate),n.minRegretCounts=tt.getCounts(window.minRegret),n.minTimeCounts=tt.getCounts(window.minTime),n.uniformCounts=tt.getCounts(window.uniform),n.minRegretConfidences=tt.getConfidenceNumbers(window.minRegret),n.minTimeConfidences=tt.getConfidenceNumbers(window.minTime),n.uniformConfidences=tt.getConfidenceNumbers(window.uniform),n.maxVisitors=Math.max(window.minRegret.length,window.minTime.length,window.uniform.length),n.minRegretVariations=window.minRegret[0].trafficAllocation.length,n.minTimeVariations=window.minTime[0].trafficAllocation.length,n.uniformVariations=window.uniform[0].trafficAllocation.length,n}return Object(C.a)(e,t),Object(N.a)(e,[{key:"render",value:function(){return v.a.createElement("div",{className:"soft--sides"},v.a.createElement("div",{className:"push--ends flex flex--row flex-align--center width--100"},v.a.createElement("div",{className:"push-double--right"},!this.state.interval&&v.a.createElement("button",{className:"no-padding",onClick:this.startCounting},v.a.createElement("div",{className:"flex square--50 flex-align--center flex-justify--center"},this.state.currentPosition!==this.maxVisitors-1&&v.a.createElement(y.a,{name:"play",size:"large"}),this.state.currentPosition===this.maxVisitors-1&&v.a.createElement(y.a,{name:"refresh",size:"large"}))),this.state.interval&&v.a.createElement("button",{className:"no-padding",onClick:this.stopCounting},v.a.createElement("div",{className:"flex square--50 flex-align--center flex-justify--center"},v.a.createElement(y.a,{name:"pause",size:"large"})))),v.a.createElement("div",{className:"flex flex--1 flex-align--center push-double--right"},v.a.createElement(_.a,{dots:!1,min:0,marks:{0:{style:{color:"grey"},label:"Start"},13200:{style:{color:"green"},label:"Min Time Significant (Winner)"},7900:{style:{color:"red"},label:"A/B Significant (Loser)"},4650:{style:{color:"red"},label:"Min Time Significant (Loser)"},20000:{style:{color:"grey"},label:"End"}},max:this.maxVisitors,onChange:this.setCurrentPosition,value:this.state.currentPosition}))),v.a.createElement("div",{className:"flex flex--row border push--ends"},v.a.createElement(et,{distributions:this.uniformDistributions,policy:X.MANUAL,position:this.state.currentPosition,sampleRate:this.sampleRate,variations:this.uniformVariations}),v.a.createElement(at,{confidences:this.uniformConfidences,counts:this.uniformCounts,position:this.state.currentPosition,variations:this.uniformVariations})),v.a.createElement("div",{className:"flex flex--row border push--ends"},v.a.createElement(et,{distributions:this.minRegretDistributions,policy:X.MIN_REGRET,position:this.state.currentPosition,sampleRate:this.sampleRate,variations:this.minRegretVariations}),v.a.createElement(at,{confidences:this.minRegretConfidences,counts:this.minRegretCounts,position:this.state.currentPosition,variations:this.minRegretVariations})),v.a.createElement("div",{className:"flex flex--row border push--ends"},v.a.createElement(et,{distributions:this.minTimeDistributions,policy:X.MIN_TIME,position:this.state.currentPosition,sampleRate:this.sampleRate,variations:this.minTimeVariations}),v.a.createElement(at,{confidences:this.minTimeConfidences,counts:this.minTimeCounts,position:this.state.currentPosition,variations:this.minTimeVariations})))}}]),e}(b.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));g.a.render(v.a.createElement(rt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},77:function(t,e,n){t.exports=n(147)},82:function(t,e,n){},85:function(t,e,n){}},[[77,2,1]]]);
//# sourceMappingURL=main.4df6c00c.chunk.js.map